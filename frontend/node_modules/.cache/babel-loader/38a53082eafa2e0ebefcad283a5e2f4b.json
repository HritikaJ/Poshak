{"ast":null,"code":"import axios from 'axios';\nimport { BLOG_LIST_REQUEST, BLOG_LIST_SUCCESS, BLOG_LIST_FAIL, BLOG_DETAILS_REQUEST, BLOG_DETAILS_SUCCESS, BLOG_DETAILS_FAIL, BLOG_DELETE_REQUEST, BLOG_DELETE_SUCCESS, BLOG_DELETE_FAIL, BLOG_CREATE_REQUEST, BLOG_CREATE_SUCCESS, BLOG_CREATE_FAIL, BLOG_UPDATE_REQUEST, BLOG_UPDATE_SUCCESS, BLOG_UPDATE_FAIL } from '../constants/blogConstants.js';\nimport { logout } from './userActions';\nexport const listBlogs = (pageNumber = '') => async dispatch => {\n  try {\n    dispatch({\n      type: BLOG_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`);\n    dispatch({\n      type: BLOG_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: BLOG_LIST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const listProductDetails = id => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/products/${id}`);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const deleteProduct = id => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_DELETE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    await axios.delete(`/api/products/${id}`, config);\n    dispatch({\n      type: PRODUCT_DELETE_SUCCESS\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n\n    if (message === 'Not authorized. Token Failed!') {\n      dispatch(logout());\n    }\n\n    dispatch({\n      type: PRODUCT_DELETE_FAIL,\n      payload: message\n    });\n  }\n};\nexport const createProduct = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_CREATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post('/api/products', {}, config);\n    dispatch({\n      type: PRODUCT_CREATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n\n    if (message === 'Not authorized. Token Failed!') {\n      dispatch(logout());\n    }\n\n    dispatch({\n      type: PRODUCT_CREATE_FAIL,\n      payload: message\n    });\n  }\n};\nexport const updateProduct = product => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_UPDATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.put(`/api/products/${product._id}`, product, config);\n    dispatch({\n      type: PRODUCT_UPDATE_SUCCESS,\n      payload: data\n    });\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n\n    if (message === 'Not authorized. Token Failed!') {\n      dispatch(logout());\n    }\n\n    dispatch({\n      type: PRODUCT_UPDATE_FAIL,\n      payload: message\n    });\n  }\n};","map":{"version":3,"sources":["C:/Hritika/Poshak/frontend/src/actions/blogActions.js"],"names":["axios","BLOG_LIST_REQUEST","BLOG_LIST_SUCCESS","BLOG_LIST_FAIL","BLOG_DETAILS_REQUEST","BLOG_DETAILS_SUCCESS","BLOG_DETAILS_FAIL","BLOG_DELETE_REQUEST","BLOG_DELETE_SUCCESS","BLOG_DELETE_FAIL","BLOG_CREATE_REQUEST","BLOG_CREATE_SUCCESS","BLOG_CREATE_FAIL","BLOG_UPDATE_REQUEST","BLOG_UPDATE_SUCCESS","BLOG_UPDATE_FAIL","logout","listBlogs","pageNumber","dispatch","type","data","get","keyword","payload","error","response","message","listProductDetails","id","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","deleteProduct","getState","PRODUCT_DELETE_REQUEST","userLogin","userInfo","config","headers","Authorization","token","delete","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","createProduct","PRODUCT_CREATE_REQUEST","post","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","updateProduct","product","PRODUCT_UPDATE_REQUEST","put","_id","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {\r\n\tBLOG_LIST_REQUEST,\r\n\tBLOG_LIST_SUCCESS,\r\n\tBLOG_LIST_FAIL,\r\n\tBLOG_DETAILS_REQUEST,\r\n\tBLOG_DETAILS_SUCCESS,\r\n\tBLOG_DETAILS_FAIL,\r\n\tBLOG_DELETE_REQUEST,\r\n\tBLOG_DELETE_SUCCESS,\r\n\tBLOG_DELETE_FAIL,\r\n\tBLOG_CREATE_REQUEST,\r\n\tBLOG_CREATE_SUCCESS,\r\n\tBLOG_CREATE_FAIL,\r\n\tBLOG_UPDATE_REQUEST,\r\n\tBLOG_UPDATE_SUCCESS,\r\n\tBLOG_UPDATE_FAIL,\r\n} from '../constants/blogConstants.js';\r\nimport { logout } from './userActions';\r\n\r\nexport const listBlogs =\r\n\t(pageNumber = '') =>\r\n\tasync (dispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: BLOG_LIST_REQUEST });\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: BLOG_LIST_SUCCESS,\r\n\t\t\t\tpayload: data,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: BLOG_LIST_FAIL,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tawait axios.delete(`/api/products/${id}`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_SUCCESS,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tconst message =\r\n\t\t\terror.response && error.response.data.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message;\r\n\t\tif (message === 'Not authorized. Token Failed!') {\r\n\t\t\tdispatch(logout());\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_FAIL,\r\n\t\t\tpayload: message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post('/api/products', {}, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tconst message =\r\n\t\t\terror.response && error.response.data.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message;\r\n\t\tif (message === 'Not authorized. Token Failed!') {\r\n\t\t\tdispatch(logout());\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_FAIL,\r\n\t\t\tpayload: message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/products/${product._id}`,\r\n\t\t\tproduct,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t\tdispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tconst message =\r\n\t\t\terror.response && error.response.data.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message;\r\n\t\tif (message === 'Not authorized. Token Failed!') {\r\n\t\t\tdispatch(logout());\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_FAIL,\r\n\t\t\tpayload: message,\r\n\t\t});\r\n\t}\r\n};\r\n"]},"metadata":{},"sourceType":"module"}